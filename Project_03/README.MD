# Projet de Pr√©paration de Donn√©es - OpenFoodFacts

## üìã Contexte du projet

Ce projet a √©t√© r√©alis√© pour un organisme de sant√© publique souhaitant am√©liorer la **base de donn√©es collaborative OpenFoodFacts**. L'objectif est de pr√©parer et d'analyser les donn√©es alimentaires pour faciliter la cr√©ation d'un syst√®me d'aide √† la saisie de produits par les utilisateurs, tout en respectant les principes du RGPD.

OpenFoodFacts est une base de donn√©es ouverte sur les produits alimentaires du monde entier, contenant des informations nutritionnelles, des ingr√©dients, des allerg√®nes et des labels. Cependant, ces donn√©es n√©cessitent un nettoyage approfondi et une exploration statistique pour √™tre exploitables.

## üéØ Objectifs

Les objectifs principaux du projet sont :

1. **Nettoyer et filtrer les donn√©es** : √âliminer les doublons, les incoh√©rences et s√©lectionner les variables pertinentes
2. **Traiter les valeurs manquantes et aberrantes** : Identifier et g√©rer les donn√©es manquantes, estimer les valeurs nutritionnelles
3. **R√©aliser des analyses statistiques** : Analyses univari√©es, bivari√©es et multivari√©es pour comprendre les relations entre variables
4. **Cr√©er de nouvelles caract√©ristiques** : Feature engineering pour enrichir le dataset
5. **Produire des visualisations** : Graphiques et analyses pour faciliter la compr√©hension des donn√©es
6. **Respecter le RGPD** : Garantir la conformit√© avec les r√©glementations sur la protection des donn√©es

## üìä Donn√©es

Les donn√©es proviennent de la base **OpenFoodFacts**, une base collaborative mondiale sur les produits alimentaires contenant :
- Des informations nutritionnelles (√©nergie, lipides, glucides, prot√©ines, etc.)
- Des listes d'ingr√©dients et d'allerg√®nes
- Des scores nutritionnels (Nutri-Score)
- Des labels et certifications
- Des informations g√©ographiques et de packaging

**‚ö†Ô∏è Note importante** : Le dataset original est volumineux et n'est pas inclus dans ce d√©p√¥t. Il est t√©l√©chargeable √† l'adresse suivante :
- **URL** : https://s3-eu-west-1.amazonaws.com/static.oc-static.com/prod/courses/files/parcours-data-scientist/P2/fr.openfoodfacts.org.products.csv.zip

**Compl√©ment** : La librairie [NutriScoreCalculator](https://github.com/MalteIwanicki/NutriScoreCalculator) a √©t√© utilis√©e pour compl√©ter certaines valeurs nutritionnelles et calculer le Nutri-Score manquant.

## üìÅ Structure du projet

```
‚îú‚îÄ‚îÄ openfoodfacts_analysis_clean.ipynb
‚îú‚îÄ‚îÄ OpenFoodFacts_presentation.pdf
‚îú‚îÄ‚îÄ data_analysis_functions.py
‚îú‚îÄ‚îÄ pandas_df_management.py
‚îú‚îÄ‚îÄ strings_management.py
‚îú‚îÄ‚îÄ translated_allergens.json
‚îî‚îÄ‚îÄ translated_ingredients.json
```

### 1. `openfoodfacts_analysis_clean.ipynb`

**Notebook Principal d'Analyse et de Pr√©paration des Donn√©es**

Ce notebook constitue le c≈ìur du projet et couvre l'ensemble du processus de data cleaning et d'analyse :

**Chargement et exploration initiale** :
- Importation du dataset OpenFoodFacts
- Analyse de la taille, des types de donn√©es et des statistiques descriptives
- Identification des colonnes pertinentes pour l'analyse

**Nettoyage et filtrage** :
- S√©lection des caract√©ristiques pertinentes pour l'objectif m√©tier
- Suppression des doublons (produits identiques)
- Filtrage des lignes sans valeurs cibles (notamment les allerg√®nes)
- Harmonisation des formats et des unit√©s

**Gestion des valeurs manquantes et aberrantes** :
- Identification des valeurs manquantes par variable
- Strat√©gies d'imputation adapt√©es √† chaque type de variable
- D√©tection et traitement des valeurs nutritionnelles aberrantes
- Estimation des valeurs manquantes d'`energy_100g` via des corr√©lations
- Calcul du Nutri-Score manquant avec NutriScoreCalculator

**Cr√©ation de nouvelles caract√©ristiques (Feature Engineering)** :
- `allergens_count` : nombre d'allerg√®nes par produit
- Caract√©ristiques d√©riv√©es des ingr√©dients (nombre, pr√©sence de certains ingr√©dients)
- Variables binaires pour les additifs
- Ratios nutritionnels (lipides/√©nergie, sucres/glucides, etc.)

**Analyse exploratoire approfondie** :
- **Analyses univari√©es** : distributions des variables nutritionnelles, Nutri-Score, cat√©gories de produits
- **Analyses bivari√©es** : corr√©lations entre variables num√©riques, relations entre Nutri-Score et compositions
- **Analyses multivari√©es** : ACP (Analyse en Composantes Principales) pour visualiser les relations globales
- **Tests statistiques** : corr√©lations de Pearson, ANOVA, tests du Khi¬≤, V de Cramer
- **Visualisations** : histogrammes, boxplots, heatmaps de corr√©lation, scatter plots

**Export des donn√©es raffin√©es** :
- Sauvegarde du DataFrame nettoy√© et enrichi (`df_refined_allergens_based.csv`)
- Documentation des transformations effectu√©es

### 2. `OpenFoodFacts_presentation.pdf`

**Pr√©sentation de Soutenance**

Cette pr√©sentation synth√©tise :
- Le contexte et les enjeux du projet
- La m√©thodologie de nettoyage et de pr√©paration des donn√©es
- Les principales analyses statistiques r√©alis√©es
- Les insights cl√©s d√©couverts dans les donn√©es
- Les recommandations pour l'am√©lioration du syst√®me de saisie
- Les perspectives d'am√©lioration et d'exploitation des donn√©es

### 3. `data_analysis_functions.py`

**Module de Fonctions d'Analyse de Donn√©es**

Ce module Python contient des fonctions r√©utilisables pour :
- Le nettoyage des donn√©es (suppression de doublons, filtrage)
- L'identification des valeurs aberrantes (m√©thodes statistiques, IQR)
- Le traitement des outliers
- La d√©tection d'incoh√©rences dans les donn√©es
- La g√©n√©ration de rapports de qualit√© des donn√©es

### 4. `pandas_df_management.py`

**Module de Gestion des DataFrames Pandas**

Ce module automatise les t√¢ches courantes de manipulation de DataFrames :
- Fonctions d'inspection rapide des DataFrames
- Automatisation de la gestion des types de donn√©es
- Fonctions de transformation et de reshaping
- Utilitaires pour l'export et l'import de donn√©es
- Fonctions de validation de la structure des donn√©es

### 5. `strings_management.py`

**Module de Nettoyage et Normalisation de Cha√Ænes de Caract√®res**

Ce module contient des fonctions sp√©cialis√©es pour :
- Le nettoyage des cha√Ænes de caract√®res (suppression d'espaces, caract√®res sp√©ciaux)
- La normalisation des textes (majuscules/minuscules, accents)
- Le parsing des listes d'ingr√©dients et d'allerg√®nes
- La standardisation des noms de produits et de cat√©gories
- La gestion des formats multilingues

### 6. `translated_allergens.json`

**Fichier de Correspondance des Allerg√®nes**

Fichier JSON contenant les traductions et correspondances des allerg√®nes :
- Harmonisation des noms d'allerg√®nes en diff√©rentes langues
- Standardisation des appellations (gluten, lactose, fruits √† coque, etc.)
- Regroupement des variantes orthographiques
- Facilite l'analyse multilingue de la base OpenFoodFacts

### 7. `translated_ingredients.json`

**Fichier de Correspondance des Ingr√©dients**

Fichier JSON contenant les traductions et correspondances des ingr√©dients :
- Harmonisation des noms d'ingr√©dients communs
- Standardisation des appellations en diff√©rentes langues
- Regroupement des synonymes et variantes
- Support de l'analyse multilingue des compositions

## üõ†Ô∏è Technologies utilis√©es

- **Python** : Langage principal pour l'analyse de donn√©es
  - pandas, numpy : manipulation et analyse de donn√©es
  - matplotlib, seaborn, plotly : visualisation de donn√©es
  - scipy, statsmodels : tests statistiques et analyses
  - scikit-learn : ACP et analyses multivari√©es
  - NutriScoreCalculator : calcul du Nutri-Score
- **Jupyter Notebook** : d√©veloppement et documentation
- **JSON** : stockage des fichiers de correspondance

## üìà M√©thodologie

1. **Exploration initiale** : Compr√©hension de la structure et du contenu du dataset
2. **Nettoyage** : √âlimination des doublons, incoh√©rences et donn√©es non pertinentes
3. **Traitement des valeurs manquantes** : Strat√©gies d'imputation adapt√©es √† chaque variable
4. **Feature Engineering** : Cr√©ation de variables d√©riv√©es pertinentes
5. **Analyses statistiques** : Tests et visualisations pour comprendre les relations
6. **Validation** : V√©rification de la qualit√© et de la coh√©rence des donn√©es nettoy√©es
7. **Documentation** : Pr√©sentation des r√©sultats et recommandations

## üéØ R√©sultats attendus

- ‚úÖ Dataset nettoy√©, enrichi et pr√™t pour des analyses avanc√©es
- ‚úÖ Compr√©hension approfondie des donn√©es OpenFoodFacts
- ‚úÖ Identification des variables cl√©s pour la pr√©diction du Nutri-Score
- ‚úÖ Insights sur les relations entre composition nutritionnelle et qualit√© alimentaire
- ‚úÖ Modules Python r√©utilisables pour le traitement de donn√©es similaires
- ‚úÖ Documentation compl√®te du processus de pr√©paration

## üí° Points cl√©s du projet

### Qualit√© des donn√©es
OpenFoodFacts √©tant une base collaborative, elle pr√©sente de nombreux d√©fis :
- **Valeurs manquantes importantes** : certaines colonnes ont plus de 50% de donn√©es manquantes
- **Incoh√©rences** : variations dans les formats, les unit√©s, les langues
- **Doublons** : produits saisis plusieurs fois avec des variations
- **Valeurs aberrantes** : erreurs de saisie dans les valeurs nutritionnelles

### Respect du RGPD
Le projet garantit la conformit√© avec les r√©glementations :
- Anonymisation des donn√©es personnelles potentielles
- Traitement conforme des donn√©es europ√©ennes
- Documentation des traitements effectu√©s

### Analyses statistiques approfondies
Le projet va au-del√† du simple nettoyage en proposant :
- Des analyses univari√©es pour comprendre les distributions
- Des analyses bivari√©es pour identifier les relations entre variables
- Des analyses multivari√©es (ACP) pour une vision globale
- Des tests statistiques pour valider les observations

### Feature Engineering orient√© m√©tier
Cr√©ation de variables pertinentes pour la sant√© publique :
- Comptage d'allerg√®nes (aide √† l'identification des produits √† risque)
- Ratios nutritionnels (sucres/glucides, lipides/√©nergie)
- Indicateurs de qualit√© nutritionnelle

## üéì Comp√©tences d√©velopp√©es

- Nettoyage et pr√©paration de donn√©es volumineuses et imparfaites
- Gestion des valeurs manquantes et aberrantes avec strat√©gies adapt√©es
- Analyses statistiques univari√©es, bivari√©es et multivari√©es
- Feature engineering orient√© m√©tier sant√©
- Visualisation de donn√©es pour la communication d'insights
- D√©veloppement de modules Python r√©utilisables
- Respect des contraintes r√©glementaires (RGPD)
- Documentation et pr√©sentation de r√©sultats techniques

## üë§ Auteur

**Gr√©goire Mureau**

---

*Ce projet illustre la d√©marche compl√®te de pr√©paration de donn√©es en data science : de l'exploration initiale au dataset raffin√©, en passant par le nettoyage, l'enrichissement et l'analyse statistique.*
