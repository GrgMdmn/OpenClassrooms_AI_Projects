# Street Vision PoC - Segmentation S√©mantique Urbaine

## üéØ Description du Projet

**Street Vision PoC** est une preuve de concept d√©montrant l'am√©lioration des performances de segmentation s√©mantique urbaine en comparant les architectures CNN traditionnelles (FPN) aux approches Transformer modernes (SegFormer).

Ce projet √©value empiriquement le potentiel des **Vision Transformers** pour la compr√©hension de sc√®nes urbaines complexes, avec un focus sur les classes critiques pour la s√©curit√© (pi√©tons, v√©hicules, signal√©tique).

### üî¨ Contexte Technique

- **Dataset** : Cityscapes (2,975 images haute r√©solution annot√©es pixel-par-pixel)
- **Architectures compar√©es** : 
  - **CNN traditionnel** : FPN + EfficientNet-B0/ResNet34
  - **Vision Transformer** : SegFormer-B0/B1
- **R√©solutions d'√©valuation** : 512√ó512 et 768√ó768 pixels
- **M√©trique principale** : Mean Intersection over Union (mIoU)

## üìä R√©sultats Principaux

| **Mod√®le** | **mIoU** | **Param√®tres** | **Taille** | **Performance** |
|------------|----------|----------------|------------|-----------------|
| **SegFormer-B1** | **79.98%** | 13.68M | 52MB | ‚≠ê **Meilleur** |
| **FPN+ResNet34** | 79.22% | 23.16M | 88MB | üîÑ Baseline forte |
| **FPN+EfficientNet-B0** | 78.67% | 5.76M | 22MB | üí° Compact |
| **SegFormer-B0** | 77.91% | 3.72M | 14MB | ‚ö° Ultra-l√©ger |

**Analyse comparative** : SegFormer-B1 et FPN+ResNet34 atteignent des performances similaires (~79-80% mIoU), mais SegFormer-B1 pr√©sente l'avantage d'√™tre plus compact et probablement plus rapide sur GPU. Les versions SegFormer-B2 √† B5 promettraient des gains significatifs, mais mes contraintes mat√©rielles n'ont pas permis leur √©valuation.

### üéØ Gains Significatifs par Classes Critiques

- **Human** : +1.78% IoU (s√©curit√© critique)
- **Vehicle** : +1.05% IoU (obstacles mobiles)
- **Object** : +0.56% IoU (signal√©tique urbaine)

## üöÄ D√©ploiement Rapide

### Docker Hub

L'application est containeris√©e et disponible sur Docker Hub :

```bash
docker pull grgmdmn/street-vision-poc_api
```

### Configuration avec Docker Compose

1. Copiez le fichier d'exemple de configuration :
```bash
cp docker-compose.yml.example docker-compose.yml
```

2. Configurez les variables d'environnement dans `docker-compose.yml`.

3. Lancez l'application :
```bash
docker-compose up -d
```

4. Acc√©dez √† l'interface : `http://localhost:$(port)`

## üéÆ Fonctionnalit√©s de l'Interface

### Dashboard Interactif

- **Upload d'images** : Glisser-d√©poser d'images urbaines
- **Double inf√©rence** : Comparaison simultan√©e FPN vs SegFormer
- **Visualisation** : Masques de segmentation color√©s par classe
- **M√©triques temps r√©el** : Temps d'inf√©rence et scores de confiance
- **Export** : T√©l√©chargement des r√©sultats de segmentation
- **Accessibilit√© WCAG** : Interface conforme aux standards d'accessibilit√©

### Analyse Exploratoire des Donn√©es

- **Statistiques Cityscapes** : Distribution des classes, r√©solutions natives
- **Graphiques interactifs** : R√©partition pixel par m√©ta-classe
- **Exemples annot√©s** : Visualisation √©chantillons du dataset

## üìà M√©thodologie d'√âvaluation

### Approche Comparative

1. **Baseline CNN** : R√©entra√Ænement FPN+EfficientNet/ResNet aux r√©solutions sup√©rieures
2. **Nouvelle approche** : √âvaluation SegFormer avec attention globale
3. **Protocole rigoureux** : Validation crois√©e, m√©triques standardis√©es
4. **Analyse par classe** : Performance d√©taill√©e sur 8 m√©ta-classes urbaines

### Limites Identifi√©es

- **R√©solution fixe** : √âvaluation sans sliding window (vs protocole original)
- **Ressources limit√©es** : Tests uniquement sur SegFormer-B0/B1
- **Conditions contr√¥l√©es** : Dataset Cityscapes uniquement (m√©t√©o favorable)

## üî¨ Insights Techniques

### Avantages SegFormer

- **Attention globale** : Chaque pixel "voit" toute l'image simultan√©ment
- **Architecture plus l√©g√®re** : Mod√®le compact avec moins de param√®tres
- **Robustesse contextuelle** : Meilleure gestion occlusions et objets complexes
- **Potentiel d'am√©lioration** : Versions B2-B5 promettraient des gains significatifs

### Trade-offs Identifi√©s

- **Vitesse CPU classique** : ~2√ó plus lent que FPN sur processeurs haute performance (Xeon, 9600X)
- **Vitesse CPU √©conome** : 3√ó plus rapide sur processeurs √©conomes en √©nergie (N100)
- **Optimisation GPU** : Architecture Transformer favoris√©e par acc√©l√©ration mat√©rielle

## üìö R√©f√©rences

- **Xie, E. et al.** (2021). *SegFormer: Simple and Efficient Design for Semantic Segmentation with Transformers*. NeurIPS 2021.
- **Cordts, M. et al.** (2016). *The Cityscapes Dataset for Semantic Urban Scene Understanding*. CVPR 2016.
- **Segmentation Models PyTorch** - [Framework d'impl√©mentation utilis√©](https://github.com/qubvel/segmentation_models.pytorch)

---

**Note** : Cette preuve de concept d√©montre le potentiel des architectures Transformer pour la segmentation urbaine, tout en soulignant l'importance des ressources computationnelles pour exploiter pleinement leurs capacit√©s.